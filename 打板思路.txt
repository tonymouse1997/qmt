请帮我用backtrader完成回测：策略如下：
1. 盘前，先筛选流通市值大于300亿的股票，并支持自定义添加额外的股票，设为“权重池”；流通市值小于300亿的，平均成交额大于3亿的，设为“小票池”
2. 盘中根据tick数据找到权重池中涨幅超过3%的股票，获取其所在版块（若多个超过3%的权重股票则板块合并），每个版块设立版块池
3. 关注每个板块池中的股票，当涨幅超过8%时，检查：若其在小票池中，将其加入“待打池”
4. 进入待打池的股票关注，若有1个tick的成交额超过2000万元，或者当日成交额大于1亿元，加入“准备下单池”
5. “准备下单池”中的股票达到涨停价则买入100000元，将该股票所在版块标记为已涨停
6. 当日已涨停的板块个数超过3个时，停止策略
7. 当日持有的股票，次日9:40卖出
如此循环。所需要的板块数据请通过QMT获取。以上所有参数需要在最开始允许集中配置。其他还有未尽事宜请告知我。